<!DOCTYPE html>
<html>
<head>
<title>Oppty Break System - Login</title>
<style>
body{
    font-family:Arial;
    background:#5a4fcf;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
}
.box{
    background:#fff;
    padding:30px;
    width:340px;
    border-radius:8px;
}
input{
    width:100%;
    padding:10px;
    margin-top:12px;
}
button{
    width:100%;
    padding:10px;
    margin-top:15px;
    background:#5a4fcf;
    color:#fff;
    border:none;
    cursor:pointer;
}
.error{
    color:red;
    text-align:center;
    margin-top:10px;
}

/* TOGGLE */
.toggle{
    display:flex;
    justify-content:center;
    gap:20px;
    margin-top:15px;
}
.toggle label{
    display:flex;
    align-items:center;
    gap:5px;
    cursor:pointer;
}
</style>
</head>
<body>

<div class="box">
<h2 style="text-align:center;">Login</h2>

<input id="username" placeholder="Email / Username">
<input id="password" type="password" placeholder="Password">

<div class="toggle">
    <label>
        <input type="radio" name="role" value="admin" checked>
        Admin
    </label>
    <label>
        <input type="radio" name="role" value="user">
        User
    </label>
</div>

<button onclick="login()">Login</button>
<p class="error" id="err"></p>
</div>

<script>
function login(){
    const uname = document.getElementById("username").value.trim();
    const pass  = document.getElementById("password").value.trim();
    const role  = document.querySelector('input[name="role"]:checked').value;

    
    if(role === "admin"){
        if(uname === "admin@oppty.in" && pass === "oppty@1234"){
            localStorage.setItem("role","admin");
            window.location = "admin.html";
        }else{
            err.innerText = "Invalid Admin credentials";
        }
        return;
    }


    let users = JSON.parse(localStorage.getItem("users")) || [];
    let user = users.find(u => u.username === uname && u.password === pass);

    if(user){
        localStorage.setItem("role","user");
        localStorage.setItem("currentUser", uname);
        window.location = "user.html";
    }else{
        err.innerText = "Invalid User credentials";
    }
}
</script>

</body>
</html>